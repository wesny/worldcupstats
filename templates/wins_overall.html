= extends "layout.html"
= set active_page = "wins_overall"

= block title
Wins Overall
= endblock

= block head
<link rel="stylesheet" href="/static/css/typeahead.css">
= endblock



= block content
<div class="container">
	<div class="jumbotron text-center">
  	 <h1>Wins Overall</h1>
	  <form action="/wins_overall" method="GET">
	  	<div class="form-group">
	  		<label class="col-form-label" for="country">Country</label>
	  		<div id="countries" class="scrollable-dropdown-menu">
	  			<input class="form-control typeahead" type="text" name="country" value="{{ country }}" placeholder="Country">
	  		</div>
	  	</div>
	  	<button class="btn btn-primary">Search</button>
	  </form>
	</div>
  <div class="container">
  	<div class="row">
	  	<table class="table table-striped">


	    	<thead>
	          <tr>
	            <th>Country</th>
	            <th>Cup Wins</th>
	            <th>Appearances</th>
	            <th>Wins</th>
	            <th>Losses</th>
	            <th>Draws</th>
	          </tr>
	        </thead>
	        <tbody>
	            {% for record in records: %}

	                <tr>
	                    <td>{{ record[0] }}</td>
	                    <td>{{ record[1] }}</td>
	                    <td>{{ record[5] }}</td>
	                    <td>{{ record[2] }}</td>
	                    <td>{{ record[3] }}</td>
	                    <td>{{ record[4] }}</td>
	                </tr>

	            {% endfor %}
	        </tbody>


	    </table>
	  </div>
  </div>
</div>
	  
= endblock


= block footer
<script src="/static/js/typeahead.bundle.js"></script>


<script type="text/javascript">
	var substringMatcher = function(strs) {
	  return function findMatches(q, cb) {
	    var matches, substringRegex;

	    // an array that will be populated with substring matches
	    matches = [];
	    console.log('here');

	    // regex used to determine if a string contains the substring `q`
	    substrRegex = new RegExp(q, 'i');

	    // iterate through the pool of strings and for any string that
	    // contains the substring `q`, add it to the `matches` array
	    $.each(strs, function(i, str) {
	      if (substrRegex.test(str)) {
	        matches.push(str);
	      }
	    });

	    cb(matches);
	  };
	};
	var countries = ['Algeria', 'Angola', 'Argentina', 'Australia', 'Austria', 'Belgium', 'Bolivia', 'Bosnia and Herzegovina', 'Brazil', 'Bulgaria', 'Cameroon', 'Canada', 'Chile', 'China', 'Colombia', 'Costa Rica', 'Croatia', 'Cuba', 'Czechoslovakia', 'Czech Republic', 'Denmark', 'Democratic Republic of the Congo', 'Dutch East Indies', 'Ecuador', 'Egypt', 'El Salvador', 'France', 'German DR', 'Germany', 'Ghana', 'Greece', 'Haiti', 'Honduras', 'Hungary', 'Iran', 'Iraq', 'Israel', 'Italy', 'Ivory Coast', 'Jamaica', 'Japan', 'Korea DPR', 'South Korea', 'Kuwait', 'Mexico', 'Morocco', 'Netherlands', 'New Zealand', 'Nigeria', 'Northern Ireland', 'Norway', 'Paraguay', 'Peru', 'Poland', 'Portugal', 'Romania', 'Russia', 'Saudi Arabia', 'Senegal', 'Serbia', 'Serbia and Montenegro', 'Slovakia', 'Slovenia', 'South Africa', 'Russia', 'Spain', 'Sweden', 'Switzerland', 'Togo', 'Trinidad and Tobago', 'Tunisia', 'Turkey', 'Ukraine', 'United Arab Emirates', 'United Kingdom', 'Uruguay', 'United States', 'Yugoslavia']

	$('#countries .typeahead').typeahead(null, {
	  name: 'countries',
	  limit: 100,
	  source: substringMatcher(countries)
	});


</script>
= endblock